{"remainingRequest":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\westlottery\\lottery_mobile_vue\\src\\assets\\src\\sockets.js","dependencies":[{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\src\\assets\\src\\sockets.js","mtime":1560394248154},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { _getgameresult, _getstatus, logout } from '@/assets/src/forgame.js';\nexport var socketMessage = function socketMessage(vue, msg) {\n  //console.log(msg)\n  switch (msg.model) {\n    case 'ltgame':\n      {\n        if (msg.data) {\n          if (msg.verb == 'update') {\n            //開獎通知\n            if (msg.data.indexOf(vue.$store.state.panko.gameCode) >= 0) {\n              _getgameresult(vue);\n            }\n          }\n        }\n\n        break;\n      }\n\n    case 'ltsgame':\n      {\n        //自開彩開獎 = 結算\n        if (msg.data) {\n          if (msg.data.indexOf(vue.$store.state.panko.gameCode) >= 0) {\n            _getgameresult(vue);\n          }\n        }\n\n        break;\n      }\n\n    case 'points':\n      {\n        _getstatus(vue);\n\n        break;\n      }\n\n    case 'member':\n      {\n        if (msg.verb == 'join') {\n          var _web = JSON.parse(vue.getCookie(\"webs\"));\n\n          var au = _web.Authorization;\n\n          if (au != '') {\n            if (au != msg.data.token) {\n              logout(vue);\n            }\n          }\n        }\n\n        break;\n      }\n  }\n};",{"version":3,"sources":["D:\\work\\westlottery\\lottery_mobile_vue\\src\\assets\\src\\sockets.js"],"names":["_getgameresult","_getstatus","logout","socketMessage","vue","msg","model","data","verb","indexOf","$store","state","panko","gameCode","_web","JSON","parse","getCookie","au","Authorization","token"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,UAAzB,EAAoCC,MAApC,QAAkD,yBAAlD;AAGA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC7C;AACA,UAAQA,GAAG,CAACC,KAAZ;AACI,SAAK,QAAL;AACI;AACI,YAAID,GAAG,CAACE,IAAR,EAAc;AACV,cAAIF,GAAG,CAACG,IAAJ,IAAY,QAAhB,EAA0B;AAAE;AACxB,gBAAIH,GAAG,CAACE,IAAJ,CAASE,OAAT,CAAiBL,GAAG,CAACM,MAAJ,CAAWC,KAAX,CAAiBC,KAAjB,CAAuBC,QAAxC,KAAqD,CAAzD,EAA4D;AACxDb,cAAAA,cAAc,CAACI,GAAD,CAAd;AACH;AACJ;AACJ;;AACD;AACH;;AACL,SAAK,SAAL;AAAgB;AAAC;AACb,YAAIC,GAAG,CAACE,IAAR,EAAc;AACV,cAAIF,GAAG,CAACE,IAAJ,CAASE,OAAT,CAAiBL,GAAG,CAACM,MAAJ,CAAWC,KAAX,CAAiBC,KAAjB,CAAuBC,QAAxC,KAAqD,CAAzD,EAA4D;AACxDb,YAAAA,cAAc,CAACI,GAAD,CAAd;AACH;AACJ;;AACD;AACH;;AACD,SAAK,QAAL;AAAe;AACXH,QAAAA,UAAU,CAACG,GAAD,CAAV;;AACA;AACH;;AACD,SAAK,QAAL;AAAc;AACV,YAAIC,GAAG,CAACG,IAAJ,IAAY,MAAhB,EAAwB;AACpB,cAAIM,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWZ,GAAG,CAACa,SAAJ,CAAc,MAAd,CAAX,CAAX;;AACA,cAAIC,EAAE,GAAGJ,IAAI,CAACK,aAAd;;AACA,cAAID,EAAE,IAAI,EAAV,EAAc;AACV,gBAAIA,EAAE,IAAIb,GAAG,CAACE,IAAJ,CAASa,KAAnB,EAA0B;AACtBlB,cAAAA,MAAM,CAACE,GAAD,CAAN;AACH;AACJ;AACJ;;AACD;AACH;AAnCL;AAqCH,CAvCM","sourcesContent":["import { _getgameresult, _getstatus,logout } from '@/assets/src/forgame.js'\r\n\r\n\r\nexport const socketMessage = function (vue, msg) {\r\n    //console.log(msg)\r\n    switch (msg.model) {\r\n        case 'ltgame':\r\n            {\r\n                if (msg.data) {\r\n                    if (msg.verb == 'update') { //開獎通知\r\n                        if (msg.data.indexOf(vue.$store.state.panko.gameCode) >= 0) {\r\n                            _getgameresult(vue)\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }   \r\n        case 'ltsgame': {//自開彩開獎 = 結算\r\n            if (msg.data) {\r\n                if (msg.data.indexOf(vue.$store.state.panko.gameCode) >= 0) {\r\n                    _getgameresult(vue)\r\n                }\r\n            } \r\n            break;\r\n        }           \r\n        case 'points': {\r\n            _getstatus(vue)\r\n            break;\r\n        }\r\n        case 'member':{\r\n            if (msg.verb == 'join') {\r\n                let _web = JSON.parse(vue.getCookie(\"webs\"))\r\n                let au = _web.Authorization\r\n                if (au != '') {\r\n                    if (au != msg.data.token) {\r\n                        logout(vue)\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n"]}]}