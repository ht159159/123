{"remainingRequest":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\westlottery\\lottery_mobile_vue\\src\\pages\\credit\\pk10\\pk10.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\src\\pages\\credit\\pk10\\pk10.vue","mtime":1558951235142},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.string.sub\";\nimport _Object$keys from \"D:\\\\work\\\\westlottery\\\\lottery_mobile_vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/keys\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\nimport HistoricalboardComponent from \"@/components/games/historicalboard/Historicalboard.vue\";\nimport BettingFieldComponent from \"@/components/games/bettingFiled/BetttingField.vue\";\nimport { _getbettime, _payRate } from \"@/assets/src/forgame.js\"; // 汇入选择游戏组件\n\nimport GameChoiceComponent from \"@/components/games/gameChoice/GameChoice.vue\";\nimport { calPayRate, calPayRate2, combination, uniquearr, randomRangeId, gamestatus, cleartimer } from \"@/assets/src/forgame\";\nvar Pos = ['大', '小', '单', '双', '龙', '虎'];\nvar Posid = ['B', 'S', 'O', 'E', 'Dragon', 'Tiger'];\nvar Pos1 = ['大', '小', '单', '双'];\nvar Pos1id = ['B', 'S', 'O', 'E']; //arr 10\n\nvar arr10 = [];\n\nfor (var i = 1; i < 11; i++) {\n  arr10.push({\n    id: 'Fixed-P',\n    play: i,\n    checked: false\n  });\n}\n\nvar ranking = ['冠军', '亚军', '第三名', '第四名', '第五名', '第六名', '第七名', '第八名', '第九名', '第十名'];\nvar r = [];\n\nfor (var _i = 0; _i < ranking.length; _i++) {\n  var n = \"Pos\" + (_i + 1);\n\n  if (_i > 4) {\n    //第五名之后没有龙虎\n    Pos = Pos1;\n    Posid = Pos1id;\n  }\n\n  r.push({\n    sub: [{\n      subName: ranking[_i],\n      shortName: n,\n      classification: [{\n        name: n,\n        classificationArr: arrCreated(n, Pos, Posid).concat(arr10)\n      }]\n    }]\n  });\n}\n\nfunction arrCreated(name, arr, arrid) {\n  var arrayReturn = [];\n  arr.forEach(function (item, i) {\n    arrayReturn.push({\n      id: name + '-' + arrid[i],\n      play: item,\n      checked: false\n    });\n  });\n  return arrayReturn;\n}\n\nexport default {\n  name: \"pk10\",\n  components: {\n    HistoricalboardComponent: HistoricalboardComponent,\n    BettingFieldComponent: BettingFieldComponent,\n    GameChoiceComponent: GameChoiceComponent\n  },\n  data: function data() {\n    return {\n      gameMenu: [{\n        sub: [{\n          subName: \"冠、亚军和\",\n          shortName: \"F2Sum\",\n          classification: [{\n            classificationArr: [{\n              play: '大',\n              id: 'F2Sum-B'\n            }, {\n              play: '小',\n              id: 'F2Sum-S'\n            }, {\n              play: '单',\n              id: 'F2Sum-O'\n            }, {\n              play: '双',\n              id: 'F2Sum-E'\n            }, {\n              play: '大单',\n              id: 'F2Sum-BO'\n            }, {\n              play: '小单',\n              id: 'F2Sum-SO'\n            }, {\n              play: '大双',\n              id: 'F2Sum-BE'\n            }, {\n              play: '小双',\n              id: 'F2Sum-SE'\n            }, {\n              play: '三',\n              id: 'F2Sum-3'\n            }, {\n              play: '四',\n              id: 'F2Sum-4'\n            }, {\n              play: '五',\n              id: 'F2Sum-5'\n            }, {\n              play: '六',\n              id: 'F2Sum-6'\n            }, {\n              play: '七',\n              id: 'F2Sum-7'\n            }, {\n              play: '八',\n              id: 'F2Sum-8'\n            }, {\n              play: '九',\n              id: 'F2Sum-9'\n            }, {\n              play: '十',\n              id: 'F2Sum-10'\n            }, {\n              play: '十一',\n              id: 'F2Sum-11'\n            }, {\n              play: '十二',\n              id: 'F2Sum-12'\n            }, {\n              play: '十三',\n              id: 'F2Sum-13'\n            }, {\n              play: '十四',\n              id: 'F2Sum-14'\n            }, {\n              play: '十五',\n              id: 'F2Sum-15'\n            }, {\n              play: '十六',\n              id: 'F2Sum-16'\n            }, {\n              play: '十七',\n              id: 'F2Sum-17'\n            }, {\n              play: '十八',\n              id: 'F2Sum-18'\n            }, {\n              play: '十九',\n              id: 'F2Sum-19'\n            }]\n          }]\n        }]\n      }].concat(r),\n      offTitle: 0,\n      OffSubTitle: 0,\n      option_slide_idx: null,\n      payrate: {\n        value: {}\n      },\n      time: {\n        value: \"\"\n      },\n      barMax: 0,\n      //--->子组件\n      rebatRate: 0,\n      //与子组件双向绑定\n      forbet: [],\n      //投注暂存\n      quantity: 0,\n      currentName: \"\",\n      //购物车玩法显示\n      issueTrace: true,\n      //是否可追号\n      shortName: [],\n      mask: true\n    };\n  },\n  mounted: function mounted() {\n    window.scrollTo(0, 0);\n    var t = this;\n    var gameCode = this.$route.params.id;\n    this.setCookie('currentGameName', encodeURI(this.$route.meta.title), 0.5); //safari 不支持存中文 要编码 \n\n    gamestatus(this, gameCode, function (res) {\n      if (_Object$keys(res).length === 0) {\n        alert(\"维护中\");\n        t.$router.push({\n          path: \"/index\"\n        });\n        return;\n      } //更新vuex 状态\n\n\n      t.$store.dispatch(\"updatebetGameCode\", gameCode);\n\n      _getbettime(t, gameCode, t.time); //盘口资料\n\n\n      _payRate(t, gameCode, \"2\", t.payrate); //赔率\n\n    });\n  },\n  methods: {\n    //   监听事件 : 监听玩法选择有无变动，若有则执行FN\n    clickOff: function clickOff(clickOffValue, clickSubValue) {\n      this.offTitle = clickOffValue;\n      this.OffSubTitle = clickSubValue;\n      this.currentName = this.gameMenu[clickOffValue].sub[clickSubValue].subName;\n    },\n    //监听如果开启选择玩法页面 就取消所有游戏选取\n    childByValue: function childByValue() {\n      this.gameMenu[this.offTitle].sub[this.OffSubTitle].classification.forEach(function (e) {\n        e.option_slide_idx = null;\n        e.classificationArr.forEach(function (i) {\n          i.checked = false;\n        });\n      });\n      this.option_slide_idx = null;\n      this.quantity = 0;\n      this.forbet = []; //暂存清空\n\n      this.rebatRate = 0;\n    },\n    bundledatainit: function bundledatainit() {\n      //资料初始\n      var _t = this;\n\n      if (_Object$keys(this.payrate.value).length > 0) {\n        this.gameMenu.forEach(function (v) {\n          v.sub[0].classification.forEach(function (q) {\n            q.classificationArr.forEach(function (e) {\n              _t.renderdata(e);\n            });\n          });\n        });\n      }\n\n      this.mask = false;\n    },\n    renderdata: function renderdata(obj) {\n      //玩法阵列资料绑定\n      var _t = this;\n\n      var _p = _t.payrate.value[obj.id];\n      obj.odds = calPayRate(_p, 0);\n      obj.odds2 = calPayRate2(_p, 0);\n      obj.playTypeS = _p.playTypeS;\n      obj.playTypeM = _p.playTypeM;\n      _t.barMax = _p.rebatRate;\n    },\n    barrenderdata: function barrenderdata(obj) {\n      //拉动bar 玩法赔率变动           \n      var _p = this.payrate.value[obj.id];\n      obj.odds = calPayRate(_p, this.rebatRate);\n      obj.odds2 = calPayRate2(_p, this.rebatRate);\n    },\n    //选取的号码\n    checkNum: function checkNum(Arr) {\n      var _t = this;\n\n      this.forbet = [];\n      var checkedArr = Arr.filter(function (v, i) {\n        return v.checked == true;\n      });\n      checkedArr.forEach(function (e) {\n        var positions = ['', '', '', '', '', '', '', '', '', ''];\n\n        if (e.id == 'Fixed-P') {\n          positions[0] = e.play.toString();\n        }\n\n        _t.forbet.push({\n          uid: randomRangeId(10),\n          id: e.id,\n          play: e.play,\n          name: _t.currentName,\n          betMainInfo: {\n            playTypeM: e.playTypeM,\n            playTypeS: e.playTypeS,\n            positions: positions,\n            quantity: 1,\n            payRate: e.odds,\n            payRate2: e.odds2,\n            rebatRate: _t.rebatRate,\n            unitPrice: 0\n          }\n        });\n      });\n      var Plus = 0;\n      this.forbet.forEach(function (v, i) {\n        Plus += v.betMainInfo.quantity;\n      });\n      this.quantity = Plus;\n    }\n  },\n  watch: {\n    payrate: {\n      deep: true,\n      handler: function handler(nv, ov) {\n        this.bundledatainit();\n      }\n    },\n    rebatRate: function rebatRate(nv, ov) {\n      var _t = this;\n\n      this.rebatRate = nv; //画面、阵列更新\n\n      this.gameMenu[this.offTitle].sub[0].classification.forEach(function (v) {\n        v.classificationArr.forEach(function (e) {\n          _t.barrenderdata(e);\n        });\n      }); //已选的下注 更新资料\n\n      if (this.forbet.length > 0) {\n        this.forbet.forEach(function (v, i) {\n          var _p = _t.payrate.value[v.id];\n          v.betMainInfo.payRate = calPayRate(_p, nv);\n          v.betMainInfo.payRate2 = calPayRate2(_p, nv);\n          v.betMainInfo.rebatRate = nv;\n        });\n      }\n    }\n  },\n  destroyed: function destroyed() {\n    var unWatch = this.$watch(\"payrate\");\n    unWatch(); // 手动注销watch\n\n    this.childByValue();\n    cleartimer();\n  },\n  computed: {\n    donotTouch: function donotTouch() {\n      return this.$store.state.dontTouch;\n    }\n  }\n};",{"version":3,"sources":["pk10.vue"],"names":[],"mappings":"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","sourcesContent":["<template src=\"./pk10.html\">\r\n    \r\n</template>\r\n\r\n<script>\r\nimport HistoricalboardComponent from \"@/components/games/historicalboard/Historicalboard.vue\";\r\nimport BettingFieldComponent from \"@/components/games/bettingFiled/BetttingField.vue\";\r\nimport { _getbettime, _payRate } from \"@/assets/src/forgame.js\";\r\n// 汇入选择游戏组件\r\nimport GameChoiceComponent from \"@/components/games/gameChoice/GameChoice.vue\";\r\n\r\n\r\nimport {\r\n    calPayRate,\r\n    calPayRate2,\r\n    combination,\r\n    uniquearr,\r\n    randomRangeId,\r\n    gamestatus,\r\n    cleartimer,\r\n} from \"@/assets/src/forgame\";\r\n\r\nlet Pos = ['大', '小', '单', '双', '龙', '虎']\r\nlet Posid = ['B', 'S', 'O', 'E', 'Dragon', 'Tiger']\r\nlet Pos1 = ['大', '小', '单', '双']\r\nlet Pos1id = ['B', 'S', 'O', 'E']\r\n//arr 10\r\nlet arr10 = [];\r\nfor (let i = 1; i < 11; i++) {\r\n    arr10.push({\r\n        id: 'Fixed-P',\r\n        play: i,\r\n        checked: false\r\n    });\r\n}\r\n\r\nlet ranking = ['冠军', '亚军', '第三名', '第四名', '第五名', '第六名', '第七名', '第八名', '第九名', '第十名']\r\nlet r = []\r\nfor (let i = 0; i < ranking.length; i++) {\r\n    let n = \"Pos\" + (i + 1)\r\n    if (i > 4) { //第五名之后没有龙虎\r\n        Pos = Pos1\r\n        Posid = Pos1id\r\n    }\r\n    r.push({\r\n        sub: [{\r\n            subName: ranking[i],\r\n            shortName: n,\r\n            classification: [{\r\n                    name: n,\r\n                    classificationArr: arrCreated(n, Pos, Posid).concat(arr10),               \r\n                }\r\n            ]\r\n        }]\r\n    })\r\n}\r\n\r\nfunction arrCreated(name, arr, arrid) {\r\n    let arrayReturn = [];\r\n    arr.forEach(function(item, i) {\r\n        arrayReturn.push({\r\n            id: name + '-' + arrid[i],\r\n            play: item,\r\n            checked: false\r\n        });\r\n    });\r\n    return arrayReturn;\r\n}\r\n\r\nexport default {\r\n    name: \"pk10\",\r\n    components: {\r\n        HistoricalboardComponent,\r\n        BettingFieldComponent,\r\n        GameChoiceComponent,\r\n    },\r\n    data() {\r\n        return {\r\n            gameMenu: [{\r\n                sub: [{\r\n                    subName: \"冠、亚军和\",\r\n                    shortName: \"F2Sum\",\r\n                    classification: [{\r\n                        classificationArr: [{\r\n                                play: '大',\r\n                                id: 'F2Sum-B',\r\n                            },\r\n                            {\r\n                                play: '小',\r\n                                id: 'F2Sum-S'\r\n                            },\r\n                            {\r\n                                play: '单',\r\n                                id: 'F2Sum-O'\r\n                            },\r\n                            {\r\n                                play: '双',\r\n                                id: 'F2Sum-E'\r\n                            },\r\n                            {\r\n                                play: '大单',\r\n                                id: 'F2Sum-BO'\r\n                            },\r\n                            {\r\n                                play: '小单',\r\n                                id: 'F2Sum-SO'\r\n                            },\r\n                            {\r\n                                play: '大双',\r\n                                id: 'F2Sum-BE'\r\n                            },\r\n                            {\r\n                                play: '小双',\r\n                                id: 'F2Sum-SE'\r\n                            },\r\n                            {\r\n                                play: '三',\r\n                                id: 'F2Sum-3'\r\n                            },\r\n                            {\r\n                                play: '四',\r\n                                id: 'F2Sum-4'\r\n                            },\r\n                            {\r\n                                play: '五',\r\n                                id: 'F2Sum-5'\r\n                            },\r\n                            {\r\n                                play: '六',\r\n                                id: 'F2Sum-6'\r\n                            },\r\n                            {\r\n                                play: '七',\r\n                                id: 'F2Sum-7'\r\n                            },\r\n                            {\r\n                                play: '八',\r\n                                id: 'F2Sum-8'\r\n                            },\r\n                            {\r\n                                play: '九',\r\n                                id: 'F2Sum-9'\r\n                            },\r\n                            {\r\n                                play: '十',\r\n                                id: 'F2Sum-10'\r\n                            },\r\n                            {\r\n                                play: '十一',\r\n                                id: 'F2Sum-11'\r\n                            },\r\n                            {\r\n                                play: '十二',\r\n                                id: 'F2Sum-12'\r\n                            },\r\n                            {\r\n                                play: '十三',\r\n                                id: 'F2Sum-13'\r\n                            },\r\n                            {\r\n                                play: '十四',\r\n                                id: 'F2Sum-14'\r\n                            },\r\n                            {\r\n                                play: '十五',\r\n                                id: 'F2Sum-15'\r\n                            },\r\n                            {\r\n                                play: '十六',\r\n                                id: 'F2Sum-16'\r\n                            },\r\n                            {\r\n                                play: '十七',\r\n                                id: 'F2Sum-17'\r\n                            },\r\n                            {\r\n                                play: '十八',\r\n                                id: 'F2Sum-18'\r\n                            },\r\n                            {\r\n                                play: '十九',\r\n                                id: 'F2Sum-19'\r\n                            },\r\n                        ],\r\n                    }]\r\n                }],\r\n            }].concat(r),\r\n\r\n            offTitle: 0,\r\n            OffSubTitle: 0,\r\n            option_slide_idx: null,\r\n            payrate: { value: {} },\r\n            time: { value: \"\" },\r\n            barMax: 0, //--->子组件\r\n            rebatRate: 0, //与子组件双向绑定\r\n            forbet: [], //投注暂存\r\n            quantity: 0,\r\n            currentName: \"\", //购物车玩法显示\r\n            issueTrace: true, //是否可追号\r\n            shortName: [],\r\n            mask: true\r\n        };\r\n    },\r\n    mounted() {\r\n        window.scrollTo(0, 0);\r\n        let t = this;\r\n        let gameCode = this.$route.params.id;\r\n        this.setCookie('currentGameName', encodeURI(this.$route.meta.title), 0.5) //safari 不支持存中文 要编码 \r\n\r\n        gamestatus(this, gameCode, function(res) {\r\n            if (Object.keys(res).length === 0) {\r\n                alert(\"维护中\");\r\n                t.$router.push({ path: \"/index\" });\r\n                return;\r\n            } //更新vuex 状态\r\n            t.$store.dispatch(\"updatebetGameCode\", gameCode);\r\n            _getbettime(t, gameCode, t.time); //盘口资料\r\n            _payRate(t, gameCode, \"2\", t.payrate); //赔率\r\n\r\n        });\r\n    },\r\n    methods: {\r\n        //   监听事件 : 监听玩法选择有无变动，若有则执行FN\r\n        clickOff: function(clickOffValue, clickSubValue) {\r\n            this.offTitle = clickOffValue;\r\n            this.OffSubTitle = clickSubValue;\r\n            this.currentName = this.gameMenu[clickOffValue].sub[clickSubValue].subName;\r\n        },\r\n\r\n        //监听如果开启选择玩法页面 就取消所有游戏选取\r\n        childByValue: function() {\r\n            this.gameMenu[this.offTitle].sub[this.OffSubTitle].classification.forEach(function(e) {\r\n                e.option_slide_idx = null\r\n                e.classificationArr.forEach(function(i) {\r\n                    i.checked = false\r\n                })\r\n            })\r\n\r\n            this.option_slide_idx = null;\r\n            this.quantity = 0;\r\n            this.forbet = []; //暂存清空\r\n            this.rebatRate = 0;\r\n        },\r\n        bundledatainit() {\r\n            //资料初始\r\n            let _t = this;\r\n            if (Object.keys(this.payrate.value).length > 0) {\r\n                this.gameMenu.forEach(function(v) {\r\n                    v.sub[0].classification.forEach(function(q) {\r\n                        q.classificationArr.forEach(function(e) {\r\n                            _t.renderdata(e);\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n            this.mask = false\r\n        },\r\n        renderdata(obj) {\r\n            //玩法阵列资料绑定\r\n            let _t = this;\r\n\r\n            let _p = _t.payrate.value[obj.id];\r\n            obj.odds = calPayRate(_p, 0);\r\n            obj.odds2 = calPayRate2(_p, 0);\r\n            obj.playTypeS = _p.playTypeS;\r\n            obj.playTypeM = _p.playTypeM;\r\n            _t.barMax = _p.rebatRate;\r\n\r\n        },\r\n        barrenderdata(obj) {\r\n            //拉动bar 玩法赔率变动           \r\n            let _p = this.payrate.value[obj.id];\r\n            obj.odds = calPayRate(_p, this.rebatRate);\r\n            obj.odds2 = calPayRate2(_p, this.rebatRate);\r\n\r\n        },\r\n        //选取的号码\r\n        checkNum(Arr) {\r\n            let _t = this;\r\n            this.forbet = [];           \r\n\r\n            let checkedArr = Arr.filter(function(v, i) {\r\n                return v.checked == true\r\n            })\r\n            checkedArr.forEach(function(e) {\r\n                let positions = ['', '', '', '', '', '', '', '', '', ''];\r\n                if (e.id == 'Fixed-P') {\r\n                    positions[0] = e.play.toString()\r\n                }\r\n                _t.forbet.push({\r\n                    uid: randomRangeId(10),\r\n                    id: e.id,\r\n                    play: e.play,\r\n                    name: _t.currentName,\r\n                    betMainInfo: {\r\n                        playTypeM: e.playTypeM,\r\n                        playTypeS: e.playTypeS,\r\n                        positions: positions,\r\n                        quantity: 1,\r\n                        payRate: e.odds,\r\n                        payRate2: e.odds2,\r\n                        rebatRate: _t.rebatRate,\r\n                        unitPrice: 0\r\n                    }\r\n                });\r\n\r\n            })\r\n\r\n            let Plus = 0;\r\n            this.forbet.forEach(function(v, i) {\r\n                Plus += v.betMainInfo.quantity;\r\n            });\r\n\r\n            this.quantity = Plus;\r\n        }\r\n    },\r\n    watch: {\r\n        payrate: {\r\n            deep: true,\r\n            handler(nv, ov) {\r\n                this.bundledatainit();\r\n            }\r\n        },\r\n\r\n        rebatRate(nv, ov) {\r\n            let _t = this;\r\n            this.rebatRate = nv;\r\n\r\n            //画面、阵列更新\r\n            this.gameMenu[this.offTitle].sub[0].classification.forEach(function(v) {\r\n                v.classificationArr.forEach(function(e) {\r\n                    _t.barrenderdata(e);\r\n                })\r\n            })\r\n\r\n            //已选的下注 更新资料\r\n            if (this.forbet.length > 0) {\r\n                this.forbet.forEach(function(v, i) {\r\n                    let _p = _t.payrate.value[v.id];\r\n                    v.betMainInfo.payRate = calPayRate(_p, nv);\r\n                    v.betMainInfo.payRate2 = calPayRate2(_p, nv);\r\n                    v.betMainInfo.rebatRate = nv;\r\n                });\r\n            }\r\n        }\r\n    },\r\n    destroyed() {\r\n        const unWatch = this.$watch(\"payrate\");\r\n        unWatch(); // 手动注销watch\r\n        this.childByValue();\r\n        cleartimer()\r\n    },\r\n    computed: {\r\n        donotTouch() {\r\n            return this.$store.state.dontTouch;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style src=\"../k3/k3.css\" scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/pages/credit/pk10"}]}