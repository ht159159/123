{"remainingRequest":"E:\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js!E:\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\lottery_mobile_vue\\src\\components\\Marquee.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\lottery_mobile_vue\\src\\components\\Marquee.vue","mtime":1555489112000},{"path":"E:\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.function.name\";\nimport _parseInt from \"E:\\\\lottery_mobile_vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-int\";\nimport _parseFloat from \"E:\\\\lottery_mobile_vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-float\";\nimport _getIterator from \"E:\\\\lottery_mobile_vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/get-iterator\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      current: -1,\n      // ul样式\n      stylesWrap: {\n        width: this.width,\n        height: this.height\n      },\n      // li样式\n      stylesItem: {\n        height: this.height,\n        lineHeight: this.height,\n        color: this.color,\n        fontSize: this.fontSize\n      },\n      scrollHeight: 0,\n      showing: false,\n      paused: false\n    };\n  },\n  props: {\n    // 宽度\n    width: {\n      type: String,\n      default: '200px'\n    },\n    // 高度\n    height: {\n      type: String,\n      default: '38px'\n    },\n    // 字体颜色\n    color: {\n      type: String,\n      default: '#fff'\n    },\n    // 字体大小\n    fontSize: {\n      type: String,\n      default: '12px'\n    },\n    // 下拉速度\n    showSpeed: {\n      type: Number,\n      validator: function validator(val) {\n        return /^\\d+$/.test(val);\n      },\n      default: 15\n    },\n    // 切换间隔时间(ms)\n    pauseTime: {\n      type: Number,\n      validator: function validator(val) {\n        return /^\\d+$/.test(val);\n      },\n      default: 2500\n    },\n    // 滚动速度\n    scrollSpeed: {\n      type: Number,\n      validator: function validator(val) {\n        return /^\\d+$/.test(val);\n      },\n      default: 22\n    },\n    // 悬停时暂停\n    pauseOnHover: {\n      type: Boolean,\n      default: false\n    },\n    // 内容\n    marqueeList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (this.marqueeList.length > 0) {\n      this.init();\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      this.mqLength = this.marqueeList.length;\n      this.scrollHeight = this.height.replace(/[^0-9]/gi, '');\n      this.$nextTick(function () {\n        _this.showNext();\n      });\n    },\n    mouseEnter: function mouseEnter() {\n      if (!this.pauseOnHover === true) return false;\n      this.pause();\n    },\n    mouseLeave: function mouseLeave() {\n      if (!this.pauseOnHover === true) return false;\n      this.resume();\n    },\n    pause: function pause() {\n      this.paused = true;\n\n      if (this.showing !== true) {\n        var li = this.$refs.li[this.current];\n        clearInterval(li.timer);\n      }\n    },\n    resume: function resume() {\n      this.paused = false;\n\n      if (this.showing !== true) {\n        var li = this.$refs.li[this.current];\n        this.scroll(li, 1);\n      }\n    },\n    showNext: function showNext() {\n      this.current++;\n\n      if (this.current >= this.mqLength) {\n        this.current = 0;\n      }\n\n      this.show(this.current);\n    },\n    show: function show(i) {\n      var _this2 = this;\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _getIterator(this.$refs.li), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n\n          if (hasClass(item, 'active')) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var li = this.$refs.li[i]; // 调整至可见区域顶部\n\n      li.style.left = '0px';\n      li.style.top = -this.scrollHeight + 'px';\n      addClass(li, 'active');\n      this.showing = true; //下移至可见区域\n\n      animate(li, {\n        top: 0\n      }, this.showSpeed, 0.01, function () {\n        _this2.showing = false;\n\n        _this2.scroll(li);\n      });\n    },\n    scroll: function scroll(li, delay) {\n      var _this3 = this;\n\n      if (this.paused === true) return false;\n\n      if (li.scrollWidth > li.clientWidth) {\n        // 左移\n        setTimeout(function () {\n          if (_this3.paused === true) return false;\n          animate(li, {\n            left: -li.scrollWidth\n          }, _this3.scrollSpeed, 1, function () {\n            _this3.finish(li);\n          });\n        }, delay || 1000);\n      } else {\n        setTimeout(function () {\n          // 下移动至底部不可见区域\n          if (_this3.paused === true) return false;\n          animate(li, {\n            top: _this3.scrollHeight\n          }, _this3.showSpeed, 0.01);\n\n          _this3.finish(li);\n        }, delay || this.pauseTime);\n      }\n    },\n    finish: function finish(li) {\n      removeClass(li, 'active');\n      this.showNext();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.pause();\n    this.current = -1;\n  },\n  watch: {\n    marqueeList: function marqueeList(val) {\n      if (val.length > 0) {\n        this.init();\n      }\n    }\n  }\n};\n\nfunction animate(obj, json, interval, sp, fn) {\n  clearInterval(obj.timer);\n  obj.timer = setInterval(function () {\n    var flag = true;\n\n    for (var arr in json) {\n      var icur = 0;\n\n      if (arr == 'opacity') {\n        icur = Math.round(_parseFloat(getStyle(obj, arr)) * 100);\n      } else {\n        icur = _parseInt(getStyle(obj, arr));\n      }\n\n      var speed;\n\n      if (sp == 1) {\n        // 匀速\n        speed = 0;\n\n        if (json[arr] < 0) {\n          speed--;\n        } else {\n          speed++;\n        }\n      } else {\n        // 缓冲效果\n        speed = (json[arr] - icur) * sp;\n        speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);\n      }\n\n      if (icur != json[arr]) {\n        flag = false;\n      }\n\n      if (arr == 'opacity') {\n        obj.style.filter = 'alpha(opacity : ' + (icur + speed) + ')';\n        obj.style.opacity = (icur + speed) / 100;\n      } else {\n        obj.style[arr] = icur + speed + 'px';\n      }\n    }\n\n    if (flag) {\n      clearInterval(obj.timer);\n\n      if (fn) {\n        fn();\n      }\n    }\n  }, interval);\n} // 获取样式\n\n\nfunction getStyle(obj, name) {\n  if (obj.currentStyle) {\n    return obj.currentStyle[name];\n  } else {\n    return getComputedStyle(obj, false)[name];\n  }\n}\n\nfunction hasClass(ele, cls) {\n  var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n  return ele.className.match(reg);\n}\n\nfunction addClass(ele, cls) {\n  if (!hasClass(ele, cls)) {\n    var reg = new RegExp('/(^s*)|(s*$)/g');\n    var className = ele.className.replace(reg, '');\n    ele.className = className + ' ' + cls;\n  }\n}\n\nfunction removeClass(ele, cls) {\n  if (hasClass(ele, cls)) {\n    var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n    ele.className = ele.className.replace(reg, ' ');\n  }\n}",{"version":3,"sources":["Marquee.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ul class=\"list\" :style=\"stylesWrap\" @mouseenter=\"mouseEnter()\" @mouseleave=\"mouseLeave()\">\n    <li v-for=\"(item, index) in marqueeList\" :key=\"index\" class=\"row\" :style=\"stylesItem\" ref=\"li\" v-html=\"item\"></li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      current: -1,\n      // ul样式\n      stylesWrap: {\n        width: this.width,\n        height: this.height\n      },\n      // li样式\n      stylesItem: {\n        height: this.height,\n        lineHeight: this.height,\n        color: this.color,\n        fontSize: this.fontSize\n      },\n      scrollHeight: 0,\n      showing: false,\n      paused: false\n    };\n  },\n  props: {\n    // 宽度\n    width: {\n      type: String,\n      default: '200px'\n    },\n    // 高度\n    height: {\n      type: String,\n      default: '38px'\n    },\n    // 字体颜色\n    color: {\n      type: String,\n      default: '#fff'\n    },\n    // 字体大小\n    fontSize: {\n      type: String,\n      default: '12px'\n    },\n    // 下拉速度\n    showSpeed: {\n      type: Number,\n      validator(val) {\n        return /^\\d+$/.test(val);\n      },\n      default: 15\n    },\n    // 切换间隔时间(ms)\n    pauseTime: {\n      type: Number,\n      validator(val) {\n        return /^\\d+$/.test(val);\n      },\n      default: 2500\n    },\n    // 滚动速度\n    scrollSpeed: {\n      type: Number,\n      validator(val) {\n        return /^\\d+$/.test(val);\n      },\n      default: 22\n    },\n    // 悬停时暂停\n    pauseOnHover: {\n      type: Boolean,\n      default: false\n    },\n    // 内容\n    marqueeList: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    }\n  },\n  mounted() {\n    if (this.marqueeList.length > 0) {\n      this.init();\n    }\n  },\n  methods: {\n    init() {\n      this.mqLength = this.marqueeList.length;\n      this.scrollHeight = this.height.replace(/[^0-9]/gi, '');\n      this.$nextTick(() => {\n        this.showNext();\n      });\n    },\n    mouseEnter() {\n      if (!this.pauseOnHover === true) return false;\n\n      this.pause();\n    },\n    mouseLeave() {\n      if (!this.pauseOnHover === true) return false;\n\n      this.resume();\n    },\n    pause() {\n      this.paused = true;\n\n      if (this.showing !== true) {\n        let li = this.$refs.li[this.current];\n        clearInterval(li.timer);\n      }\n    },\n    resume() {\n      this.paused = false;\n\n      if (this.showing !== true) {\n        let li = this.$refs.li[this.current];\n        this.scroll(li, 1);\n      }\n    },\n    showNext() {\n      this.current++;\n\n      if (this.current >= this.mqLength) {\n        this.current = 0;\n      }\n\n      this.show(this.current);\n    },\n    show(i) {\n      for (let item of this.$refs.li) {\n        if (hasClass(item, 'active')) {\n          return false;\n        }\n      }\n\n      let li = this.$refs.li[i];\n\n      // 调整至可见区域顶部\n      li.style.left = '0px';\n      li.style.top = -this.scrollHeight + 'px';\n\n      addClass(li, 'active');\n\n      this.showing = true;\n      //下移至可见区域\n      animate(li, { top: 0 }, this.showSpeed, 0.01, () => {\n        this.showing = false;\n        this.scroll(li);\n      });\n    },\n    scroll(li, delay) {\n      if (this.paused === true) return false;\n\n      if (li.scrollWidth > li.clientWidth) {\n        // 左移\n        setTimeout(() => {\n          if (this.paused === true) return false;\n\n          animate(li, { left: -li.scrollWidth }, this.scrollSpeed, 1, () => {\n            this.finish(li);\n          });\n        }, delay || 1000);\n      } else {\n        setTimeout(() => {\n          // 下移动至底部不可见区域\n          if (this.paused === true) return false;\n\n          animate(li, { top: this.scrollHeight }, this.showSpeed, 0.01);\n          this.finish(li);\n        }, delay || this.pauseTime);\n      }\n    },\n    finish(li) {\n      removeClass(li, 'active');\n\n      this.showNext();\n    }\n  },\n  beforeDestroy() {\n    this.pause();\n\n    this.current = -1;\n  },\n  watch: {\n    marqueeList(val) {\n      if (val.length > 0) {\n        this.init();\n      }\n    }\n  }\n};\n\nfunction animate(obj, json, interval, sp, fn) {\n  clearInterval(obj.timer);\n  obj.timer = setInterval(() => {\n    var flag = true;\n    for (var arr in json) {\n      var icur = 0;\n      if (arr == 'opacity') {\n        icur = Math.round(parseFloat(getStyle(obj, arr)) * 100);\n      } else {\n        icur = parseInt(getStyle(obj, arr));\n      }\n      var speed;\n      if (sp == 1) {\n        // 匀速\n        speed = 0;\n        if (json[arr] < 0) {\n          speed--;\n        } else {\n          speed++;\n        }\n      } else {\n        // 缓冲效果\n        speed = (json[arr] - icur) * sp;\n        speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);\n      }\n\n      if (icur != json[arr]) {\n        flag = false;\n      }\n      if (arr == 'opacity') {\n        obj.style.filter = 'alpha(opacity : ' + (icur + speed) + ')';\n        obj.style.opacity = (icur + speed) / 100;\n      } else {\n        obj.style[arr] = icur + speed + 'px';\n      }\n    }\n\n    if (flag) {\n      clearInterval(obj.timer);\n      if (fn) {\n        fn();\n      }\n    }\n  }, interval);\n}\n\n// 获取样式\nfunction getStyle(obj, name) {\n  if (obj.currentStyle) {\n    return obj.currentStyle[name];\n  } else {\n    return getComputedStyle(obj, false)[name];\n  }\n}\n\nfunction hasClass(ele, cls) {\n  let reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n  return ele.className.match(reg);\n}\n\nfunction addClass(ele, cls) {\n  if (!hasClass(ele, cls)) {\n    let reg = new RegExp('/(^s*)|(s*$)/g');\n    let className = ele.className.replace(reg, '');\n    ele.className = className + ' ' + cls;\n  }\n}\n\nfunction removeClass(ele, cls) {\n  if (hasClass(ele, cls)) {\n    let reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n    ele.className = ele.className.replace(reg, ' ');\n  }\n}\n</script>\n\n<style scoped>\n.list {\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  display: inline-block;\n}\n.row {\n  display: block;\n  white-space: nowrap;\n  width: 100%;\n  position: absolute;\n  top: -999em;\n  left: 0;\n}\n</style>\n"],"sourceRoot":"src/components"}]}