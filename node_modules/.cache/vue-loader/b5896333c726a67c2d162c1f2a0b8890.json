{"remainingRequest":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\westlottery\\lottery_mobile_vue\\src\\pages\\official\\bjkl8\\bjkl8.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\src\\pages\\official\\bjkl8\\bjkl8.vue","mtime":1556099122592},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n\r\nimport HistoricalboardComponent from \"@/components/games/historicalboard/Historicalboard.vue\";\r\nimport BettingFieldComponent from \"@/components/games/bettingFiled/BetttingField.vue\";\r\nimport { _getbettime, _payRate } from \"@/assets/src/forgame.js\";\r\n// 汇入选择游戏组件\r\nimport GameChoiceComponent from \"@/components/games/gameChoice/GameChoice.vue\";\r\nimport Option_slideComponent from \"@/components/games/option_slide/Option_slide.vue\";\r\nimport {\r\n  calPayRate,\r\n  calPayRate2,\r\n  combination,\r\n  randomRangeId,\r\n  gamestatus,\r\n  cleartimer\r\n} from \"@/assets/src/forgame\";\r\n\r\n//特码阵列资料 TMArr SixX1Arr于下方挂载进data\r\nlet TMArr = [],\r\n  TMB3Arr = [];\r\nfor (var i = 0; i < 28; i++) {\r\n  TMArr.push({ id: \"Specific-N\" + i, play: i, odds: 0, checked: false });\r\n  TMB3Arr.push({ id: \"Specific-NNN\", play: i, odds: 0, checked: false });\r\n}\r\n\r\n//混合于下方挂载进data\r\nlet MixArr = [];\r\nlet subname = [\r\n  \"大\",\r\n  \"小\",\r\n  \"单\",\r\n  \"双\",\r\n  \"大单\",\r\n  \"小单\",\r\n  \"大双\",\r\n  \"小双\",\r\n  \"极大\",\r\n  \"极小\"\r\n];\r\nlet subEn = [\"B\", \"S\", \"O\", \"E\", \"BO\", \"SO\", \"BE\", \"SE\", \"BB\", \"SS\"];\r\nfor (var y = 0; y < subname.length; y++) {\r\n  MixArr.push({\r\n    id: \"Mix-\" + subEn[y],\r\n    play: subname[y],\r\n    odds: 0,\r\n    checked: false\r\n  });\r\n}\r\n\r\nexport default {\r\n  name: \"bjkl8\",\r\n  components: {\r\n    HistoricalboardComponent,\r\n    BettingFieldComponent,\r\n    GameChoiceComponent,\r\n    Option_slideComponent\r\n  },\r\n  data() {\r\n    return {\r\n      gameMenu: [\r\n        {\r\n          name: \"混合\",\r\n          sub: [{ subName: \"混合\", gameDes: \"对特码大（14~27）小（0~13）单（1,3,5~27）双（0,2,4~26）大单（15,17,19,21,23,25,27）小单（1,3,5,7,9,11,13）大双（14,16,18,20,22,24,26）小双（0,2,4,6,8,10,12）极大（22~27）极小（0~5）形态进行投注，所选号码的形态与开奖号码的形态相同，即为中奖。\" }],\r\n          isShow: true\r\n        },\r\n        {\r\n          name: \"波色\",\r\n          sub: [{ subName: \"波色\", gameDes: \"对绿波（1，4，7，10，16，19，22，25），蓝波（2，5，8，11，17，20，23，26），红波（3，6，9，12，15，18，21，24）形态进行投注，所选号码的形态与开奖号码相加之和的形态相同，即为中奖。\" }],\r\n          isShow: false\r\n        },\r\n        {\r\n          name: \"豹子\",\r\n          sub: [{ subName: \"豹子\", gameDes: \"对所有的豹子（000，111，222，333，444，555，666，777，888，999）进行投注。当开奖号码为任意1个豹子时，即中奖。\" }],\r\n          isShow: false\r\n        },\r\n        {\r\n          name: \"特码\",\r\n          sub: [\r\n            {\r\n              subName: \"特码\",\r\n              gameDes: \"特码 投注方案：投注号码6<br>开奖号码：1，2，3，即中特码。中奖条件：所选特码与开奖的3个号码相加之和相同，即中奖。\"\r\n            },\r\n            {\r\n              subName: \"特码包三\",\r\n              gameDes: \"特码包三 投注方案：投注号码5，6，7<br>开奖号码：3 1 1、2 2 2、5 0 2，即中特码包三。投选三个特码，任意一个特码与开奖的3个号码相加之和相同，即中奖。\"\r\n            }\r\n          ],\r\n          isShow: false\r\n        }\r\n      ],\r\n      // 混合资料\r\n      Mix: MixArr,\r\n      //色波資料\r\n      SB: [\r\n        { id: \"Color-Red\", play: \"红波\", odds: 0, checked: false },\r\n        { id: \"Color-Blue\", play: \"蓝波\", odds: 0, checked: false },\r\n        { id: \"Color-Green\", play: \"绿波\", odds: 0, checked: false }\r\n      ],\r\n      BZ: [{ id: \"Triple-All\", play: \"豹子\", odds: 0, checked: false }],\r\n      TM: TMArr,\r\n      TMB3: TMB3Arr,\r\n      B3Arr: [],\r\n      offTitle: 0,\r\n      OffSubTitle: 0,\r\n      option_slide_idx: null,\r\n      payrate: { value: {} },\r\n      time: { value: \"\" },\r\n      barMax: 0, //--->子组件\r\n      rebatRate: 0, //与子组件双向绑定\r\n      forbet: [], //投注暂存\r\n      quantity: 0,\r\n      currentName: \"\", //购物车玩法显示\r\n      issueTrace: true, //是否可追号\r\n      mask:true\r\n    };\r\n  },\r\n  mounted() {\r\n    window.scrollTo(0,0);\r\n    let t = this;\r\n    let gameCode = this.$route.params.id;\r\n    this.setCookie('currentGameName',encodeURI(this.$route.meta.title),0.5) //safari 不支持存中文 要编码 \r\n    gamestatus(this, gameCode, function(res) {\r\n      if (Object.keys(res).length === 0) {\r\n        alert(\"维护中\");\r\n        t.$router.push({ path: \"/index\" });\r\n        return;\r\n      }\r\n      //更新vuex 状态\r\n      t.$store.dispatch(\"updatebetGameCode\", gameCode);\r\n      _getbettime(t, gameCode, t.time); //盘口资料\r\n      _payRate(t, gameCode, \"1\", t.payrate); //赔率\r\n      \r\n    });\r\n  },\r\n  methods: {\r\n    //   监听事件 : 监听玩法选择有无变动，若有则执行FN\r\n    clickOff: function(clickOffValue, clickSubValue) {\r\n      this.offTitle = clickOffValue;\r\n      this.OffSubTitle = clickSubValue;\r\n      this.currentName = this.gameMenu[clickOffValue].sub[clickSubValue].subName;\r\n    },\r\n\r\n    //监听如果开启选择玩法页面 就取消所有游戏选取\r\n    childByValue: function() {\r\n      let GameType = [this.Mix, this.SB, this.BZ, this.TM, this.TMB3];\r\n      for (let j = 0; j < GameType.length; j++) {\r\n        for (let i = 0; i < GameType[j].length; i++) {\r\n          GameType[j][i].checked = false;\r\n        }\r\n      }\r\n      this.option_slide_idx = null;\r\n      this.quantity = 0;\r\n      this.forbet = []; //暂存清空\r\n      this.rebatRate = 0;\r\n      this.B3Arr=[]\r\n    },\r\n    bundledatainit() {\r\n      //资料初始\r\n      let _t = this;\r\n      let GameType = [this.Mix, this.SB, this.BZ, this.TM, this.TMB3];\r\n      if (Object.keys(this.payrate.value).length > 0) {\r\n        GameType.forEach(function(v, i) {\r\n          _t.renderdata(v);\r\n        });\r\n      }\r\n      this.mask=false\r\n    },\r\n    // 彩球颜色判定;彩球数字判定(特码+特码6中1);\r\n    getcolor(number) {\r\n      var red = [3, 6, 9, 12, 15, 18, 21, 24];\r\n      var blue = [2, 5, 8, 11, 17, 20, 23, 26];\r\n      var green = [1, 4, 7, 10, 16, 19, 22, 25];\r\n      var gray = [0, 13, 14, 27];\r\n      var css = \"\";\r\n      if (red.indexOf(parseInt(number)) > -1) css = \"redback\";\r\n      if (blue.indexOf(parseInt(number)) > -1) css = \"blueback\";\r\n      if (green.indexOf(parseInt(number)) > -1) css = \"greenback\";\r\n      if (gray.indexOf(parseInt(number)) > -1) css = \"noneback\";\r\n      return css;\r\n    },\r\n    mixbackground(i) {\r\n      if (i < 4) return \"noneback\";\r\n      else if (i > 3 && i < 8) return \"blueback\";\r\n      else return \"greenback\";\r\n    },\r\n    //色波背景判定\r\n    bobackground(str) {\r\n      if (str.indexOf(\"Red\") > 0) return \"big-redback\";\r\n      else if (str.indexOf(\"Blue\") > 0) return \"big-blueback\";\r\n      else if (str.indexOf(\"Green\") > 0) return \"big-greenback\";\r\n    },\r\n    renderdata(obj) {\r\n      //玩法阵列资料绑定\r\n      let _t = this;\r\n      obj.forEach(function(v, i) {\r\n        let _p = _t.payrate.value[v.id];\r\n        v.odds = calPayRate(_p, 0);\r\n        v.odds2 = calPayRate2(_p, 0);\r\n        v.playTypeS = _p.playTypeS;\r\n        v.playTypeM = _p.playTypeM;\r\n        _t.barMax = _p.rebatRate;\r\n      });\r\n    },\r\n    barrenderdata(obj) {\r\n      //拉动bar 玩法赔率变动\r\n      let _t = this;\r\n      obj.forEach(function(v, i) {\r\n        let _p = _t.payrate.value[v.id];\r\n        v.odds = calPayRate(_p, _t.rebatRate);\r\n        v.odds2 = calPayRate2(_p, _t.rebatRate);\r\n      });\r\n    },    \r\n    //选取的号码\r\n    checkNum(Arr, indx) {\r\n      let _t = this;\r\n      this.forbet = [];\r\n\r\n      if (_t.offTitle == 3 && _t.OffSubTitle == 1) {\r\n        let B3 = _t.B3Arr;\r\n        if (B3.indexOf(indx) > -1) B3.splice(B3.indexOf(indx), 1);\r\n        else B3.push(indx);\r\n\r\n        if (B3.length > 3) {\r\n          Arr.forEach(function(v, i) {\r\n            v.checked = false;\r\n          });\r\n          B3.shift();\r\n        }\r\n\r\n        B3.forEach(function(v, i) {\r\n          Arr[v].checked = true;\r\n        });\r\n       \r\n        let e = Arr[0]\r\n        let q = B3.length==3?1:0\r\n        let p = ['']\r\n        p[0] = B3.toString()\r\n\r\n        let tplay = p[0];\r\n\r\n        if (q > 0) {\r\n            _t.forbet.push({\r\n                uid: randomRangeId(10),\r\n                id: e.id,\r\n                play: tplay,\r\n                name: _t.currentName,\r\n                betMainInfo: {\r\n                    playTypeM: e.playTypeM,\r\n                    playTypeS: e.playTypeS,\r\n                    positions: p,\r\n                    quantity: q,\r\n                    payRate: e.odds,\r\n                    payRate2: e.odds2,\r\n                    rebatRate: _t.rebatRate,\r\n                    unitPrice: 0\r\n                }\r\n            });\r\n        }\r\n      } else {\r\n        let checkedArr = Arr.filter(function(v, i) {\r\n          return v.checked == true;\r\n        });\r\n        checkedArr.forEach(function(e, i) {\r\n          _t.forbet.push({\r\n            uid: randomRangeId(10),\r\n            id: e.id,\r\n            play: e.play,\r\n            name: _t.currentName,\r\n            betMainInfo: {\r\n              playTypeM: e.playTypeM,\r\n              playTypeS: e.playTypeS,\r\n              positions: [\"\"],\r\n              quantity: 1,\r\n              payRate: e.odds,\r\n              payRate2: e.odds2,\r\n              rebatRate: _t.rebatRate,\r\n              unitPrice: 0\r\n            }\r\n          });\r\n        });\r\n      }\r\n\r\n      let Plus = 0;\r\n      this.forbet.forEach(function(v, i) {\r\n        Plus += v.betMainInfo.quantity;\r\n      });\r\n\r\n      this.quantity = Plus;\r\n    }\r\n  },\r\n  watch: {\r\n    payrate: {\r\n      deep: true,\r\n      handler(nv, ov) {\r\n        this.bundledatainit();        \r\n      }\r\n    },\r\n    rebatRate(nv, ov) {\r\n      let _t = this;\r\n      this.rebatRate = nv;\r\n\r\n      let GameType = [[this.Mix], [this.SB], [this.BZ], [this.TM, this.TMB3]];\r\n      //画面、阵列更新\r\n      this.barrenderdata(GameType[this.offTitle][this.OffSubTitle]);\r\n\r\n      //已选的下注 更新资料\r\n      if (this.forbet.length > 0) {\r\n        this.forbet.forEach(function(v, i) {\r\n          let _p = _t.payrate.value[v.id];\r\n          v.betMainInfo.payRate = calPayRate(_p, nv);\r\n          v.betMainInfo.payRate2 = calPayRate2(_p, nv);\r\n          v.betMainInfo.rebatRate = nv;\r\n        });\r\n      }\r\n    }\r\n  },\r\n  destroyed() {\r\n    const unWatch = this.$watch(\"payrate\");\r\n    unWatch(); // 手动注销watch\r\n    this.childByValue();    \r\n    cleartimer()\r\n  },\r\n  computed: {\r\n    donotTouch() {\r\n      return this.$store.state.dontTouch;\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["bjkl8.vue"],"names":[],"mappings":";;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bjkl8.vue","sourceRoot":"src/pages/official/bjkl8","sourcesContent":["<template src=\"./bjkl8.html\"></template>\r\n\r\n<script>\r\nimport HistoricalboardComponent from \"@/components/games/historicalboard/Historicalboard.vue\";\r\nimport BettingFieldComponent from \"@/components/games/bettingFiled/BetttingField.vue\";\r\nimport { _getbettime, _payRate } from \"@/assets/src/forgame.js\";\r\n// 汇入选择游戏组件\r\nimport GameChoiceComponent from \"@/components/games/gameChoice/GameChoice.vue\";\r\nimport Option_slideComponent from \"@/components/games/option_slide/Option_slide.vue\";\r\nimport {\r\n  calPayRate,\r\n  calPayRate2,\r\n  combination,\r\n  randomRangeId,\r\n  gamestatus,\r\n  cleartimer\r\n} from \"@/assets/src/forgame\";\r\n\r\n//特码阵列资料 TMArr SixX1Arr于下方挂载进data\r\nlet TMArr = [],\r\n  TMB3Arr = [];\r\nfor (var i = 0; i < 28; i++) {\r\n  TMArr.push({ id: \"Specific-N\" + i, play: i, odds: 0, checked: false });\r\n  TMB3Arr.push({ id: \"Specific-NNN\", play: i, odds: 0, checked: false });\r\n}\r\n\r\n//混合于下方挂载进data\r\nlet MixArr = [];\r\nlet subname = [\r\n  \"大\",\r\n  \"小\",\r\n  \"单\",\r\n  \"双\",\r\n  \"大单\",\r\n  \"小单\",\r\n  \"大双\",\r\n  \"小双\",\r\n  \"极大\",\r\n  \"极小\"\r\n];\r\nlet subEn = [\"B\", \"S\", \"O\", \"E\", \"BO\", \"SO\", \"BE\", \"SE\", \"BB\", \"SS\"];\r\nfor (var y = 0; y < subname.length; y++) {\r\n  MixArr.push({\r\n    id: \"Mix-\" + subEn[y],\r\n    play: subname[y],\r\n    odds: 0,\r\n    checked: false\r\n  });\r\n}\r\n\r\nexport default {\r\n  name: \"bjkl8\",\r\n  components: {\r\n    HistoricalboardComponent,\r\n    BettingFieldComponent,\r\n    GameChoiceComponent,\r\n    Option_slideComponent\r\n  },\r\n  data() {\r\n    return {\r\n      gameMenu: [\r\n        {\r\n          name: \"混合\",\r\n          sub: [{ subName: \"混合\", gameDes: \"对特码大（14~27）小（0~13）单（1,3,5~27）双（0,2,4~26）大单（15,17,19,21,23,25,27）小单（1,3,5,7,9,11,13）大双（14,16,18,20,22,24,26）小双（0,2,4,6,8,10,12）极大（22~27）极小（0~5）形态进行投注，所选号码的形态与开奖号码的形态相同，即为中奖。\" }],\r\n          isShow: true\r\n        },\r\n        {\r\n          name: \"波色\",\r\n          sub: [{ subName: \"波色\", gameDes: \"对绿波（1，4，7，10，16，19，22，25），蓝波（2，5，8，11，17，20，23，26），红波（3，6，9，12，15，18，21，24）形态进行投注，所选号码的形态与开奖号码相加之和的形态相同，即为中奖。\" }],\r\n          isShow: false\r\n        },\r\n        {\r\n          name: \"豹子\",\r\n          sub: [{ subName: \"豹子\", gameDes: \"对所有的豹子（000，111，222，333，444，555，666，777，888，999）进行投注。当开奖号码为任意1个豹子时，即中奖。\" }],\r\n          isShow: false\r\n        },\r\n        {\r\n          name: \"特码\",\r\n          sub: [\r\n            {\r\n              subName: \"特码\",\r\n              gameDes: \"特码 投注方案：投注号码6<br>开奖号码：1，2，3，即中特码。中奖条件：所选特码与开奖的3个号码相加之和相同，即中奖。\"\r\n            },\r\n            {\r\n              subName: \"特码包三\",\r\n              gameDes: \"特码包三 投注方案：投注号码5，6，7<br>开奖号码：3 1 1、2 2 2、5 0 2，即中特码包三。投选三个特码，任意一个特码与开奖的3个号码相加之和相同，即中奖。\"\r\n            }\r\n          ],\r\n          isShow: false\r\n        }\r\n      ],\r\n      // 混合资料\r\n      Mix: MixArr,\r\n      //色波資料\r\n      SB: [\r\n        { id: \"Color-Red\", play: \"红波\", odds: 0, checked: false },\r\n        { id: \"Color-Blue\", play: \"蓝波\", odds: 0, checked: false },\r\n        { id: \"Color-Green\", play: \"绿波\", odds: 0, checked: false }\r\n      ],\r\n      BZ: [{ id: \"Triple-All\", play: \"豹子\", odds: 0, checked: false }],\r\n      TM: TMArr,\r\n      TMB3: TMB3Arr,\r\n      B3Arr: [],\r\n      offTitle: 0,\r\n      OffSubTitle: 0,\r\n      option_slide_idx: null,\r\n      payrate: { value: {} },\r\n      time: { value: \"\" },\r\n      barMax: 0, //--->子组件\r\n      rebatRate: 0, //与子组件双向绑定\r\n      forbet: [], //投注暂存\r\n      quantity: 0,\r\n      currentName: \"\", //购物车玩法显示\r\n      issueTrace: true, //是否可追号\r\n      mask:true\r\n    };\r\n  },\r\n  mounted() {\r\n    window.scrollTo(0,0);\r\n    let t = this;\r\n    let gameCode = this.$route.params.id;\r\n    this.setCookie('currentGameName',encodeURI(this.$route.meta.title),0.5) //safari 不支持存中文 要编码 \r\n    gamestatus(this, gameCode, function(res) {\r\n      if (Object.keys(res).length === 0) {\r\n        alert(\"维护中\");\r\n        t.$router.push({ path: \"/index\" });\r\n        return;\r\n      }\r\n      //更新vuex 状态\r\n      t.$store.dispatch(\"updatebetGameCode\", gameCode);\r\n      _getbettime(t, gameCode, t.time); //盘口资料\r\n      _payRate(t, gameCode, \"1\", t.payrate); //赔率\r\n      \r\n    });\r\n  },\r\n  methods: {\r\n    //   监听事件 : 监听玩法选择有无变动，若有则执行FN\r\n    clickOff: function(clickOffValue, clickSubValue) {\r\n      this.offTitle = clickOffValue;\r\n      this.OffSubTitle = clickSubValue;\r\n      this.currentName = this.gameMenu[clickOffValue].sub[clickSubValue].subName;\r\n    },\r\n\r\n    //监听如果开启选择玩法页面 就取消所有游戏选取\r\n    childByValue: function() {\r\n      let GameType = [this.Mix, this.SB, this.BZ, this.TM, this.TMB3];\r\n      for (let j = 0; j < GameType.length; j++) {\r\n        for (let i = 0; i < GameType[j].length; i++) {\r\n          GameType[j][i].checked = false;\r\n        }\r\n      }\r\n      this.option_slide_idx = null;\r\n      this.quantity = 0;\r\n      this.forbet = []; //暂存清空\r\n      this.rebatRate = 0;\r\n      this.B3Arr=[]\r\n    },\r\n    bundledatainit() {\r\n      //资料初始\r\n      let _t = this;\r\n      let GameType = [this.Mix, this.SB, this.BZ, this.TM, this.TMB3];\r\n      if (Object.keys(this.payrate.value).length > 0) {\r\n        GameType.forEach(function(v, i) {\r\n          _t.renderdata(v);\r\n        });\r\n      }\r\n      this.mask=false\r\n    },\r\n    // 彩球颜色判定;彩球数字判定(特码+特码6中1);\r\n    getcolor(number) {\r\n      var red = [3, 6, 9, 12, 15, 18, 21, 24];\r\n      var blue = [2, 5, 8, 11, 17, 20, 23, 26];\r\n      var green = [1, 4, 7, 10, 16, 19, 22, 25];\r\n      var gray = [0, 13, 14, 27];\r\n      var css = \"\";\r\n      if (red.indexOf(parseInt(number)) > -1) css = \"redback\";\r\n      if (blue.indexOf(parseInt(number)) > -1) css = \"blueback\";\r\n      if (green.indexOf(parseInt(number)) > -1) css = \"greenback\";\r\n      if (gray.indexOf(parseInt(number)) > -1) css = \"noneback\";\r\n      return css;\r\n    },\r\n    mixbackground(i) {\r\n      if (i < 4) return \"noneback\";\r\n      else if (i > 3 && i < 8) return \"blueback\";\r\n      else return \"greenback\";\r\n    },\r\n    //色波背景判定\r\n    bobackground(str) {\r\n      if (str.indexOf(\"Red\") > 0) return \"big-redback\";\r\n      else if (str.indexOf(\"Blue\") > 0) return \"big-blueback\";\r\n      else if (str.indexOf(\"Green\") > 0) return \"big-greenback\";\r\n    },\r\n    renderdata(obj) {\r\n      //玩法阵列资料绑定\r\n      let _t = this;\r\n      obj.forEach(function(v, i) {\r\n        let _p = _t.payrate.value[v.id];\r\n        v.odds = calPayRate(_p, 0);\r\n        v.odds2 = calPayRate2(_p, 0);\r\n        v.playTypeS = _p.playTypeS;\r\n        v.playTypeM = _p.playTypeM;\r\n        _t.barMax = _p.rebatRate;\r\n      });\r\n    },\r\n    barrenderdata(obj) {\r\n      //拉动bar 玩法赔率变动\r\n      let _t = this;\r\n      obj.forEach(function(v, i) {\r\n        let _p = _t.payrate.value[v.id];\r\n        v.odds = calPayRate(_p, _t.rebatRate);\r\n        v.odds2 = calPayRate2(_p, _t.rebatRate);\r\n      });\r\n    },    \r\n    //选取的号码\r\n    checkNum(Arr, indx) {\r\n      let _t = this;\r\n      this.forbet = [];\r\n\r\n      if (_t.offTitle == 3 && _t.OffSubTitle == 1) {\r\n        let B3 = _t.B3Arr;\r\n        if (B3.indexOf(indx) > -1) B3.splice(B3.indexOf(indx), 1);\r\n        else B3.push(indx);\r\n\r\n        if (B3.length > 3) {\r\n          Arr.forEach(function(v, i) {\r\n            v.checked = false;\r\n          });\r\n          B3.shift();\r\n        }\r\n\r\n        B3.forEach(function(v, i) {\r\n          Arr[v].checked = true;\r\n        });\r\n       \r\n        let e = Arr[0]\r\n        let q = B3.length==3?1:0\r\n        let p = ['']\r\n        p[0] = B3.toString()\r\n\r\n        let tplay = p[0];\r\n\r\n        if (q > 0) {\r\n            _t.forbet.push({\r\n                uid: randomRangeId(10),\r\n                id: e.id,\r\n                play: tplay,\r\n                name: _t.currentName,\r\n                betMainInfo: {\r\n                    playTypeM: e.playTypeM,\r\n                    playTypeS: e.playTypeS,\r\n                    positions: p,\r\n                    quantity: q,\r\n                    payRate: e.odds,\r\n                    payRate2: e.odds2,\r\n                    rebatRate: _t.rebatRate,\r\n                    unitPrice: 0\r\n                }\r\n            });\r\n        }\r\n      } else {\r\n        let checkedArr = Arr.filter(function(v, i) {\r\n          return v.checked == true;\r\n        });\r\n        checkedArr.forEach(function(e, i) {\r\n          _t.forbet.push({\r\n            uid: randomRangeId(10),\r\n            id: e.id,\r\n            play: e.play,\r\n            name: _t.currentName,\r\n            betMainInfo: {\r\n              playTypeM: e.playTypeM,\r\n              playTypeS: e.playTypeS,\r\n              positions: [\"\"],\r\n              quantity: 1,\r\n              payRate: e.odds,\r\n              payRate2: e.odds2,\r\n              rebatRate: _t.rebatRate,\r\n              unitPrice: 0\r\n            }\r\n          });\r\n        });\r\n      }\r\n\r\n      let Plus = 0;\r\n      this.forbet.forEach(function(v, i) {\r\n        Plus += v.betMainInfo.quantity;\r\n      });\r\n\r\n      this.quantity = Plus;\r\n    }\r\n  },\r\n  watch: {\r\n    payrate: {\r\n      deep: true,\r\n      handler(nv, ov) {\r\n        this.bundledatainit();        \r\n      }\r\n    },\r\n    rebatRate(nv, ov) {\r\n      let _t = this;\r\n      this.rebatRate = nv;\r\n\r\n      let GameType = [[this.Mix], [this.SB], [this.BZ], [this.TM, this.TMB3]];\r\n      //画面、阵列更新\r\n      this.barrenderdata(GameType[this.offTitle][this.OffSubTitle]);\r\n\r\n      //已选的下注 更新资料\r\n      if (this.forbet.length > 0) {\r\n        this.forbet.forEach(function(v, i) {\r\n          let _p = _t.payrate.value[v.id];\r\n          v.betMainInfo.payRate = calPayRate(_p, nv);\r\n          v.betMainInfo.payRate2 = calPayRate2(_p, nv);\r\n          v.betMainInfo.rebatRate = nv;\r\n        });\r\n      }\r\n    }\r\n  },\r\n  destroyed() {\r\n    const unWatch = this.$watch(\"payrate\");\r\n    unWatch(); // 手动注销watch\r\n    this.childByValue();    \r\n    cleartimer()\r\n  },\r\n  computed: {\r\n    donotTouch() {\r\n      return this.$store.state.dontTouch;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style src=\"./bjkl8.css\" scoped>\r\n</style>\r\n"]}]}