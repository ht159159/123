{"remainingRequest":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\westlottery\\lottery_mobile_vue\\src\\views\\recharge\\RechargeTransfer.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\src\\views\\recharge\\RechargeTransfer.vue","mtime":1561711148674},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: \"transfer\",\r\n\r\n  data() {\r\n    return {\r\n      siteID: this.$global.siteID,\r\n      tppName: null,\r\n      tppType: null,\r\n      bankCard: [],\r\n      bankCardInd: 0,\r\n      amount: \"\",\r\n      bankCardSelect: \"我是预设\",\r\n      bankCardOpenClose: false,\r\n      needFill: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.tppName = this.$route.query.tppName;\r\n    this.tppType = this.$route.query.tppType;\r\n    this.bankCard = JSON.parse(this.$route.query.banklist);\r\n  },\r\n  methods: {\r\n    bankCardSwitch: function() {\r\n      if (this.bankCardOpenClose == false) {\r\n        this.bankCardOpenClose = true;\r\n      } else {\r\n        this.bankCardOpenClose = false;\r\n      }\r\n    },\r\n\r\n    submit: function() {\r\n      if (this.amount == \"\") {\r\n        this.needFill = true;\r\n        return;\r\n      }\r\n      let t =this\r\n      let _web = JSON.parse(this.getCookie(\"webs\"));\r\n      let sel = this.bankCard[this.bankCardInd];\r\n      if (this.tppType == -1) {\r\n         this.$axios(\r\n          \"MemberDepositApply\",\r\n          {\r\n            siteID: this.$global.siteID,\r\n            loginID: _web.loginID,\r\n            bankID: sel.bankID,\r\n            amount: this.amount,\r\n            token: _web.Authorization\r\n          },\r\n          function(resp) {\r\n            var json = JSON.parse(resp.data);\r\n            if (json.error._error) {\r\n              alert(json.error._error);\r\n              return;\r\n            }\r\n            alert(json.message);\r\n            t.$router.push({path:'/user'})\r\n          }\r\n        );\r\n      } else {\r\n        let _this = this;\r\n\r\n        this.$axios(\r\n          \"MemberPaymentApply\",\r\n          {\r\n            siteID: this.$global.siteID,\r\n            loginID: _web.loginID,\r\n            bankID: sel.bankID,\r\n            tppDtID: sel.tppDtID,\r\n            tppType: this.tppType,\r\n            amount: this.amount,\r\n            token: _web.Authorization\r\n          },\r\n          function(resp) {\r\n            var res = JSON.parse(resp.data);\r\n            if (res.error._error) {\r\n              alert(res.error._error);\r\n            } else {\r\n              alert(res.message);\r\n              location.href = res.info.url;\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    minTransAmt() {\r\n      if (this.bankCard.length > 0)\r\n        return this.bankCard[this.bankCardInd].minTransAmt;\r\n    },\r\n    maxTransAmt() {\r\n      if (this.bankCard.length > 0)\r\n        return this.bankCard[this.bankCardInd].maxTransAmt;\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["RechargeTransfer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RechargeTransfer.vue","sourceRoot":"src/views/recharge","sourcesContent":["<template>\r\n  <!-- 转账页面 -->\r\n  <div class=\"rechargeBankCard\">\r\n    <h1>{{tppName}}</h1>\r\n    <div class=\"bankCard-content\">\r\n      <div class=\"bankCard-Field\" @click=\"bankCardSwitch()\">\r\n        <h2>支付银行</h2>\r\n        <div class=\"bankCard-card\">\r\n          <select class=\"bankCard-card\" v-model=\"bankCardInd\">\r\n            <option v-for=\"(item,index) in bankCard\" :key=\"index\" :value=\"index\">{{item.bankName}}</option>\r\n          </select>\r\n        </div>\r\n        <img src=\"@/assets/img/icon_list_down.png\" alt>\r\n      </div>\r\n      <div class=\"bankCard-Field\">\r\n        <div>\r\n          <h2>充值金额</h2>\r\n          <span v-show=\"needFill\"></span>\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            pattern=\"\\d*\"\r\n            placeholder=\"请输入充值金额\"\r\n            v-model=\"amount\"\r\n            @keydown=\"needFill = false\"\r\n          >\r\n          <span v-show=\"needFill\">这是必填的字段</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"bankCard-Field\">\r\n        <h2>金额限制</h2>\r\n        <p>最低:{{minTransAmt}} 最高:{{maxTransAmt}}</p>\r\n      </div>\r\n      <div class=\"bankCard-notice\">\r\n        <p>注意事项:</p>\r\n        <p>\r\n          帐号不定期更换！请每次存款前依照所显示的银\r\n          行帐号入款，如入款至已过期帐号，无法查收， 本公司恕不负责！\r\n        </p>\r\n      </div>\r\n      <button class=\"bankCard-submit\" @click=\"submit()\">提交</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"transfer\",\r\n\r\n  data() {\r\n    return {\r\n      siteID: this.$global.siteID,\r\n      tppName: null,\r\n      tppType: null,\r\n      bankCard: [],\r\n      bankCardInd: 0,\r\n      amount: \"\",\r\n      bankCardSelect: \"我是预设\",\r\n      bankCardOpenClose: false,\r\n      needFill: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.tppName = this.$route.query.tppName;\r\n    this.tppType = this.$route.query.tppType;\r\n    this.bankCard = JSON.parse(this.$route.query.banklist);\r\n  },\r\n  methods: {\r\n    bankCardSwitch: function() {\r\n      if (this.bankCardOpenClose == false) {\r\n        this.bankCardOpenClose = true;\r\n      } else {\r\n        this.bankCardOpenClose = false;\r\n      }\r\n    },\r\n\r\n    submit: function() {\r\n      if (this.amount == \"\") {\r\n        this.needFill = true;\r\n        return;\r\n      }\r\n      let t =this\r\n      let _web = JSON.parse(this.getCookie(\"webs\"));\r\n      let sel = this.bankCard[this.bankCardInd];\r\n      if (this.tppType == -1) {\r\n         this.$axios(\r\n          \"MemberDepositApply\",\r\n          {\r\n            siteID: this.$global.siteID,\r\n            loginID: _web.loginID,\r\n            bankID: sel.bankID,\r\n            amount: this.amount,\r\n            token: _web.Authorization\r\n          },\r\n          function(resp) {\r\n            var json = JSON.parse(resp.data);\r\n            if (json.error._error) {\r\n              alert(json.error._error);\r\n              return;\r\n            }\r\n            alert(json.message);\r\n            t.$router.push({path:'/user'})\r\n          }\r\n        );\r\n      } else {\r\n        let _this = this;\r\n\r\n        this.$axios(\r\n          \"MemberPaymentApply\",\r\n          {\r\n            siteID: this.$global.siteID,\r\n            loginID: _web.loginID,\r\n            bankID: sel.bankID,\r\n            tppDtID: sel.tppDtID,\r\n            tppType: this.tppType,\r\n            amount: this.amount,\r\n            token: _web.Authorization\r\n          },\r\n          function(resp) {\r\n            var res = JSON.parse(resp.data);\r\n            if (res.error._error) {\r\n              alert(res.error._error);\r\n            } else {\r\n              alert(res.message);\r\n              location.href = res.info.url;\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    minTransAmt() {\r\n      if (this.bankCard.length > 0)\r\n        return this.bankCard[this.bankCardInd].minTransAmt;\r\n    },\r\n    maxTransAmt() {\r\n      if (this.bankCard.length > 0)\r\n        return this.bankCard[this.bankCardInd].maxTransAmt;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.bankCard-card {\r\n  width: 49.6vmin;\r\n  height: 5.4vmax;\r\n  color: #666666;\r\n  font-size: 3.73vmin;\r\n  border: none;\r\n  outline: none;\r\n  appearance: none;\r\n  align-self: center;\r\n  padding-bottom: 0.3vmax;\r\n  font-family: \"Microsoft JhengHei\", \"Heiti TC\", sans-serif;\r\n}\r\n</style>"]}]}