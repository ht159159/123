{"remainingRequest":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\westlottery\\lottery_mobile_vue\\src\\views\\agentCenter\\teamManagement\\teamManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\src\\views\\agentCenter\\teamManagement\\teamManagement.vue","mtime":1568016307440},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\westlottery\\lottery_mobile_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n\r\nexport default {\r\n  name: \"teamManagement\",\r\n  data() {\r\n    return {\r\n      siteID: this.$global.siteID,\r\n      loginID: this.$store.state.bet.loginID,\r\n      navType: 0, //标题编号\r\n      allData: [], //旗下所有会员资料\r\n      agentData: [], //旗下代理会员\r\n      memberData: [], //旗下代理会员\r\n      nowMember: \"\", //当前会员\r\n      superiorData: {\r\n        suLoginID: 0,\r\n        suID: -1,\r\n        nowLoginID: 0\r\n      }, //上级会员资料\r\n      memberBaseData: {\r\n        points: 0,\r\n        statusName: 0,\r\n        lastLoginTime: 0,\r\n        editTime: 0,\r\n        createTime: 0\r\n      },\r\n      bonusGroupData: [], ///奖金组资料////\r\n      gameAdjustmentVal: 1700,\r\n      startX: 0,\r\n      moveX: 0,\r\n      endX: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.downMember();\r\n  },\r\n  mounted() {\r\n    this.bonusGroup();\r\n  },\r\n  methods: {\r\n    clickNavType: function(num) {\r\n      this.navType = num;\r\n    },\r\n    ////////產生旗下會員資料/////////////////\r\n    downMember(parm) {\r\n      let t = this;\r\n      let allData = [];\r\n      let agentData = [];\r\n      let memberData = [];\r\n      let _webs = JSON.parse(this.getCookie(\"webs\"));\r\n      let _parm;\r\n      if (parm == undefined) {\r\n        _parm = {\r\n          jsonString: {\r\n            siteID: this.siteID,\r\n            loginID: this.loginID,\r\n            suID: -1\r\n          },\r\n          token: _webs.Authorization\r\n        };\r\n      } else {\r\n        _parm = parm;\r\n      }\r\n\r\n      this.$axios(\"T7SubordinateList\", _parm, function(resp) {\r\n        let json = JSON.parse(resp.data);\r\n        let i;\r\n        console.log(json);\r\n        ///////////////////上級會員資料///////////////////////////\r\n        t.superiorData.nowLoginID = json.data[0].loginID;\r\n        t.superiorData.suLoginID = json.data[0].suLoginID;\r\n        t.superiorData.suID = json.data[0].suID;\r\n        //////////////////////////////////////////////////\r\n        for (i = 0; i < json.data.length; i++) {\r\n          let lastTime = json.data[i].lastLoginTime;\r\n          if (lastTime) {\r\n            lastTime = lastTime.slice(5);\r\n          } else {\r\n            lastTime = \"未登入\";\r\n          }\r\n          allData.push({\r\n            loginID: json.data[i].loginID,\r\n            points: json.data[i].points,\r\n            statusName: json.data[i].statusName,\r\n            lastLoginTime: lastTime,\r\n            createTime: json.data[i].createTime,\r\n            editTime: json.data[i].editTime,\r\n            rCode: json.data[i].rCode,\r\n            suID: json.data[i].suID,\r\n            suLoginID: json.data[i].suLoginID,\r\n            isMember: json.data[i].isMember,\r\n            memberType: json.data[i].memberType,\r\n            memberID: json.data[i].memberID\r\n          });\r\n          //代理\r\n          if (json.data[i].memberType == 0) {\r\n            memberData.push({\r\n              loginID: json.data[i].loginID,\r\n              points: json.data[i].points,\r\n              statusName: json.data[i].statusName,\r\n              lastLoginTime: lastTime,\r\n              createTime: json.data[i].createTime,\r\n              editTime: json.data[i].editTime,\r\n              rCode: json.data[i].rCode,\r\n              suID: json.data[i].suID,\r\n              suLoginID: json.data[i].suLoginID,\r\n              isMember: json.data[i].isMember,\r\n              memberType: json.data[i].memberType,\r\n              memberID: json.data[i].memberID\r\n            });\r\n          } else {\r\n            agentData.push({\r\n              loginID: json.data[i].loginID,\r\n              points: json.data[i].points,\r\n              statusName: json.data[i].statusName,\r\n              lastLoginTime: lastTime,\r\n              createTime: json.data[i].createTime,\r\n              editTime: json.data[i].editTime,\r\n              rCode: json.data[i].rCode,\r\n              suID: json.data[i].suID,\r\n              suLoginID: json.data[i].suLoginID,\r\n              isMember: json.data[i].isMember,\r\n              memberType: json.data[i].memberType,\r\n              memberID: json.data[i].memberID\r\n            });\r\n          }\r\n        }\r\n        t.allData = allData;\r\n        t.agentData = agentData;\r\n        t.memberData = memberData;\r\n        t.nowMember = allData[0].loginID;\r\n        t.memberBaseData.points = allData[0].points;\r\n        t.memberBaseData.statusName = allData[0].statusName;\r\n        t.memberBaseData.createTime = allData[0].createTime;\r\n        t.memberBaseData.editTime = allData[0].editTime;\r\n        t.memberBaseData.lastLoginTime = allData[0].lastLoginTime;\r\n      });\r\n    },\r\n    clickMember: function(suID, loginID) {\r\n      let t = this;\r\n      let _webs = JSON.parse(this.getCookie(\"webs\"));\r\n      let _parm = {\r\n        jsonString: {\r\n          siteID: t.siteID,\r\n          loginID: t.loginID,\r\n          suID: suID\r\n        },\r\n        token: _webs.Authorization\r\n      };\r\n      ////////////帶入資料產生畫面///////////////\r\n      this.downMember(_parm);\r\n    },\r\n    backSuperior: function() {\r\n      if (this.superiorData.suID != -1) {\r\n        this.clickNavType(0);\r\n        this.clickMember(this.superiorData.suID, this.superiorData.suLoginID);\r\n      }\r\n    },\r\n    bonusGroup: function(parm) {\r\n      let t = this;\r\n      let _webs = JSON.parse(this.getCookie(\"webs\"));\r\n      let _parm;\r\n      if (parm == undefined) {\r\n        _parm = {\r\n          jsonString: {\r\n            siteID: this.siteID,\r\n            loginID: this.loginID,\r\n            suID: -1\r\n          },\r\n          token: _webs.Authorization\r\n        };\r\n      } else {\r\n        _parm = parm;\r\n      }\r\n      this.$axios(\"T7RefundList\", _parm, function(resp) {\r\n        let json = JSON.parse(resp.data);\r\n        let i;\r\n        let bonusGroupData = [];\r\n        console.log(json);\r\n        let nowLoginID = t.allData[0].memberID;\r\n        for (i = 0; i < json.data[nowLoginID].length; i++) {\r\n          bonusGroupData.push({\r\n            loginID: json.data[nowLoginID][i].loginID,\r\n            memberID: json.data[nowLoginID][i].memberID,\r\n            multiple: json.data[nowLoginID][i].multiple,\r\n            multipleBase: json.data[nowLoginID][i].multipleBase,\r\n            multipleGap: json.data[nowLoginID][i].multipleGap,\r\n            multipleMax: json.data[nowLoginID][i].multipleMax,\r\n            multipleMin: json.data[nowLoginID][i].multipleMin,\r\n            spName: json.data[nowLoginID][i].spName\r\n          });\r\n        }\r\n        t.bonusGroupData = bonusGroupData;\r\n      });\r\n    },\r\n    tapstart: function(event) {\r\n      this.startX = this.gameAdjustmentVal;\r\n      // console.log(\"tap:\" + this.startX);\r\n      let max = 2000\r\n      let min = 1700\r\n      let maxRange = max-min\r\n      let nowSite = this.gameAdjustmentVal - min\r\n      let nowSiteP = (1-(maxRange-nowSite)/maxRange)*100;\r\n      // console.log(document.getElementById(\"js-zipper\").style);\r\n      // document.getElementById(\"js-zipper\").style.background = \"linear-gradient(left, #80c269 \"+nowSiteP+\"%, #80c269 0%, #c2c2c2 0%, #c2c2c2 100%)\"\r\n      // ({\r\n      //    background:\"linear-gradient(left, #80c269 \"+nowSiteP+\"%, #80c269 0%, #c2c2c2 0%, #c2c2c2 100%)\"\r\n      // })\r\n    },\r\n    onPanend: function(event) {\r\n      // this.endX = event.center.x;\r\n      this.endX = this.gameAdjustmentVal;\r\n      console.log(\"end:\" + this.endX);\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["teamManagement.vue"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"teamManagement.vue","sourceRoot":"src/views/agentCenter/teamManagement","sourcesContent":["\r\n<template src=\"./teamManagement.html\"></template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"teamManagement\",\r\n  data() {\r\n    return {\r\n      siteID: this.$global.siteID,\r\n      loginID: this.$store.state.bet.loginID,\r\n      navType: 0, //标题编号\r\n      allData: [], //旗下所有会员资料\r\n      agentData: [], //旗下代理会员\r\n      memberData: [], //旗下代理会员\r\n      nowMember: \"\", //当前会员\r\n      superiorData: {\r\n        suLoginID: 0,\r\n        suID: -1,\r\n        nowLoginID: 0\r\n      }, //上级会员资料\r\n      memberBaseData: {\r\n        points: 0,\r\n        statusName: 0,\r\n        lastLoginTime: 0,\r\n        editTime: 0,\r\n        createTime: 0\r\n      },\r\n      bonusGroupData: [], ///奖金组资料////\r\n      gameAdjustmentVal: 1700,\r\n      startX: 0,\r\n      moveX: 0,\r\n      endX: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.downMember();\r\n  },\r\n  mounted() {\r\n    this.bonusGroup();\r\n  },\r\n  methods: {\r\n    clickNavType: function(num) {\r\n      this.navType = num;\r\n    },\r\n    ////////產生旗下會員資料/////////////////\r\n    downMember(parm) {\r\n      let t = this;\r\n      let allData = [];\r\n      let agentData = [];\r\n      let memberData = [];\r\n      let _webs = JSON.parse(this.getCookie(\"webs\"));\r\n      let _parm;\r\n      if (parm == undefined) {\r\n        _parm = {\r\n          jsonString: {\r\n            siteID: this.siteID,\r\n            loginID: this.loginID,\r\n            suID: -1\r\n          },\r\n          token: _webs.Authorization\r\n        };\r\n      } else {\r\n        _parm = parm;\r\n      }\r\n\r\n      this.$axios(\"T7SubordinateList\", _parm, function(resp) {\r\n        let json = JSON.parse(resp.data);\r\n        let i;\r\n        console.log(json);\r\n        ///////////////////上級會員資料///////////////////////////\r\n        t.superiorData.nowLoginID = json.data[0].loginID;\r\n        t.superiorData.suLoginID = json.data[0].suLoginID;\r\n        t.superiorData.suID = json.data[0].suID;\r\n        //////////////////////////////////////////////////\r\n        for (i = 0; i < json.data.length; i++) {\r\n          let lastTime = json.data[i].lastLoginTime;\r\n          if (lastTime) {\r\n            lastTime = lastTime.slice(5);\r\n          } else {\r\n            lastTime = \"未登入\";\r\n          }\r\n          allData.push({\r\n            loginID: json.data[i].loginID,\r\n            points: json.data[i].points,\r\n            statusName: json.data[i].statusName,\r\n            lastLoginTime: lastTime,\r\n            createTime: json.data[i].createTime,\r\n            editTime: json.data[i].editTime,\r\n            rCode: json.data[i].rCode,\r\n            suID: json.data[i].suID,\r\n            suLoginID: json.data[i].suLoginID,\r\n            isMember: json.data[i].isMember,\r\n            memberType: json.data[i].memberType,\r\n            memberID: json.data[i].memberID\r\n          });\r\n          //代理\r\n          if (json.data[i].memberType == 0) {\r\n            memberData.push({\r\n              loginID: json.data[i].loginID,\r\n              points: json.data[i].points,\r\n              statusName: json.data[i].statusName,\r\n              lastLoginTime: lastTime,\r\n              createTime: json.data[i].createTime,\r\n              editTime: json.data[i].editTime,\r\n              rCode: json.data[i].rCode,\r\n              suID: json.data[i].suID,\r\n              suLoginID: json.data[i].suLoginID,\r\n              isMember: json.data[i].isMember,\r\n              memberType: json.data[i].memberType,\r\n              memberID: json.data[i].memberID\r\n            });\r\n          } else {\r\n            agentData.push({\r\n              loginID: json.data[i].loginID,\r\n              points: json.data[i].points,\r\n              statusName: json.data[i].statusName,\r\n              lastLoginTime: lastTime,\r\n              createTime: json.data[i].createTime,\r\n              editTime: json.data[i].editTime,\r\n              rCode: json.data[i].rCode,\r\n              suID: json.data[i].suID,\r\n              suLoginID: json.data[i].suLoginID,\r\n              isMember: json.data[i].isMember,\r\n              memberType: json.data[i].memberType,\r\n              memberID: json.data[i].memberID\r\n            });\r\n          }\r\n        }\r\n        t.allData = allData;\r\n        t.agentData = agentData;\r\n        t.memberData = memberData;\r\n        t.nowMember = allData[0].loginID;\r\n        t.memberBaseData.points = allData[0].points;\r\n        t.memberBaseData.statusName = allData[0].statusName;\r\n        t.memberBaseData.createTime = allData[0].createTime;\r\n        t.memberBaseData.editTime = allData[0].editTime;\r\n        t.memberBaseData.lastLoginTime = allData[0].lastLoginTime;\r\n      });\r\n    },\r\n    clickMember: function(suID, loginID) {\r\n      let t = this;\r\n      let _webs = JSON.parse(this.getCookie(\"webs\"));\r\n      let _parm = {\r\n        jsonString: {\r\n          siteID: t.siteID,\r\n          loginID: t.loginID,\r\n          suID: suID\r\n        },\r\n        token: _webs.Authorization\r\n      };\r\n      ////////////帶入資料產生畫面///////////////\r\n      this.downMember(_parm);\r\n    },\r\n    backSuperior: function() {\r\n      if (this.superiorData.suID != -1) {\r\n        this.clickNavType(0);\r\n        this.clickMember(this.superiorData.suID, this.superiorData.suLoginID);\r\n      }\r\n    },\r\n    bonusGroup: function(parm) {\r\n      let t = this;\r\n      let _webs = JSON.parse(this.getCookie(\"webs\"));\r\n      let _parm;\r\n      if (parm == undefined) {\r\n        _parm = {\r\n          jsonString: {\r\n            siteID: this.siteID,\r\n            loginID: this.loginID,\r\n            suID: -1\r\n          },\r\n          token: _webs.Authorization\r\n        };\r\n      } else {\r\n        _parm = parm;\r\n      }\r\n      this.$axios(\"T7RefundList\", _parm, function(resp) {\r\n        let json = JSON.parse(resp.data);\r\n        let i;\r\n        let bonusGroupData = [];\r\n        console.log(json);\r\n        let nowLoginID = t.allData[0].memberID;\r\n        for (i = 0; i < json.data[nowLoginID].length; i++) {\r\n          bonusGroupData.push({\r\n            loginID: json.data[nowLoginID][i].loginID,\r\n            memberID: json.data[nowLoginID][i].memberID,\r\n            multiple: json.data[nowLoginID][i].multiple,\r\n            multipleBase: json.data[nowLoginID][i].multipleBase,\r\n            multipleGap: json.data[nowLoginID][i].multipleGap,\r\n            multipleMax: json.data[nowLoginID][i].multipleMax,\r\n            multipleMin: json.data[nowLoginID][i].multipleMin,\r\n            spName: json.data[nowLoginID][i].spName\r\n          });\r\n        }\r\n        t.bonusGroupData = bonusGroupData;\r\n      });\r\n    },\r\n    tapstart: function(event) {\r\n      this.startX = this.gameAdjustmentVal;\r\n      // console.log(\"tap:\" + this.startX);\r\n      let max = 2000\r\n      let min = 1700\r\n      let maxRange = max-min\r\n      let nowSite = this.gameAdjustmentVal - min\r\n      let nowSiteP = (1-(maxRange-nowSite)/maxRange)*100;\r\n      // console.log(document.getElementById(\"js-zipper\").style);\r\n      // document.getElementById(\"js-zipper\").style.background = \"linear-gradient(left, #80c269 \"+nowSiteP+\"%, #80c269 0%, #c2c2c2 0%, #c2c2c2 100%)\"\r\n      // ({\r\n      //    background:\"linear-gradient(left, #80c269 \"+nowSiteP+\"%, #80c269 0%, #c2c2c2 0%, #c2c2c2 100%)\"\r\n      // })\r\n    },\r\n    onPanend: function(event) {\r\n      // this.endX = event.center.x;\r\n      this.endX = this.gameAdjustmentVal;\r\n      console.log(\"end:\" + this.endX);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style src=\"./teamManagement.css\" scoped></style>"]}]}